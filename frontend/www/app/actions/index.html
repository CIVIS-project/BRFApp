

<ion-view view-title="Your Actions">
  <ion-nav-buttons side="right">
  <button class="button button-clear button-dark icon ion-android-add" ng-click="addActions()">&#8200;</button>
  </ion-nav-buttons>
<ion-content class="padding">
<div class="list card">
  <div class="item item-divider">Current Actions ({{_.size(currentUser.actions.inProgress)}})</div>
  <a class="item item-icon-left item-text-wrap item-icon-right" ng-repeat="action in _.toArray(currentUser.actions.inProgress) | orderBy: '-startedDate[startedDate.length-1]' | limitTo: maxNumberShow.inProgress" ng-href="#/app/actions/current/{{$index}}">
    <i class="icon ion-leaf balanced"><span class="leaves-nr">{{getActionPoints(action)}}</span></i>
    {{action.name}}
    <i class="icon ion-chevron-right icon-accessory"></i>
  </a>
  <div class="text-right" ng-if="_.size(currentUser.actions.inProgress) >= maxNumberShow.inProgress">
    <a ng-if="maxNumberShow.inProgress>sNr" class="button button-clear button-stable icon-left ion-chevron-up button-small" ng-click="showLess('inProgress')">Show me less</a>
    <a ng-if="maxNumberShow.inProgress<_.size(currentUser.actions.inProgress)" class="button button-clear button-stable icon-left ion-chevron-down button-small" ng-click="showMore('inProgress')"> Show me more</a>
  </div>
</div>

<div class="list card" ng-if="_.size(currentUser.actions.pending) > 0"> 
  <div class="item item-divider">Pending ({{_.size(currentUser.actions.pending)}})</div>
  <a class="item item-icon-left item-text-wrap item-icon-right" ng-repeat="action in _.toArray(currentUser.actions.pending) | orderBy: 'postponedDate[postponedDate.length-1]' | limitTo: maxNumberShow.pending" ng-href="#/app/actions/pending/{{$index}}">
    <!-- ng-repeat="(idx, action) in actions" > -->
    <i class="icon ion-leaf balanced"><span class="leaves-nr">{{getActionPoints(action)}}</span></i>
    {{action.name}}
    <i class="icon ion-chevron-right icon-accessory"></i>
  </a>
  <div class="text-right" ng-if="_.size(currentUser.actions.pending) >= maxNumberShow.pending">
    <a ng-if="maxNumberShow.pending>sNr" class="button button-clear button-stable icon-left ion-chevron-up button-small" ng-click="showLess('pending')">Show me less</a>
    <a ng-if="maxNumberShow.pending<_.size(currentUser.actions.pending)" class="button button-clear button-stable icon-left ion-chevron-down button-small" ng-click="showMore('pending')"> Show me more</a>
  </div>
</div>

<div class="list card" ng-if="_.size(currentUser.actions.done) > 0">
  <div class="item item-divider">Recently Completed ({{_.size(currentUser.actions.done)}})</div>
  <a class="item item-icon-left item-text-wrap item-icon-right" ng-repeat="action in _.toArray(currentUser.actions.done) | orderBy: '-latestDate' | limitTo: maxNumberShow.done" ng-href="#/app/actions/completed/{{$index}}">
    <!-- ng-repeat="(idx, action) in actions" > -->
    <i class="icon ion-leaf balanced"><span class="leaves-nr">{{getActionPoints(action)}}</span></i>
    {{action.name}}
    <i class="icon ion-chevron-right icon-accessory"></i>
  </a>
  <div class="text-right" ng-if="_.size(currentUser.actions.done) >= maxNumberShow.done">
    <a ng-if="maxNumberShow.done>sNr" class="button button-clear button-stable icon-left ion-chevron-up button-small" ng-click="showLess('done')">Show me less</a>
    <a ng-if="maxNumberShow.done<_.size(currentUser.actions.done)" class="button button-clear button-stable icon-left ion-chevron-down button-small" ng-click="showMore('done')"> Show me more</a>
  </div>
</div>

<div class="list card" ng-if="currentUser.leaves>0">
  <div class="item">
  You gathered <i class="icon ion-leaf balanced icon-large"><span class="leaves-nr">{{currentUser.leaves}}</span></i>{{currentUser.leaves > 1 ? 'leaves':'leaf'}} in total <i class="icon ion-happy-outline"></i>
  </div>
</div>

<button class="button icon-left button-full button-dark" ng-click="addActions()">
  <i class="icon ion-android-add"></i>
  <b>Add Action</b>
</button>

</ion-content>
</ion-view>
